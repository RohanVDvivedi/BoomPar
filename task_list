SYNC_PIPE
 * implement sync_coroutine_pipe api like the sync_queue without non_blocking access
 * don't make it bounded, make it like sync queue above

EMBEDDED_REFERENCE_COUNTER OR SMART_POINTER
 * make promise reference counted